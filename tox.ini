[tox]
envlist =
    # Django 1.8
    py34dj18,
    py33dj18,
    py27dj18,

    # Django 1.7
    py34dj17,
    py33dj17,
    py27dj17,

    # Django 1.6
    py33dj16,
    py27dj16,
    py26dj16,

    # Django 1.5
    py33dj15,
    py27dj15,
    py26dj15,

    # Django 1.4
    py27dj14,
    py26dj14,

[testenv]
deps =
    django_nose
    mock-django
deps_dj18 =
    {[testenv]deps}
    Django>=1.8,<1.9
deps_dj17 =
    {[testenv]deps}
    Django>=1.7.8 # because of Django 1.8c1
deps_dj16 =
    {[testenv]deps}
    Django>=1.6,<1.7
deps_dj15 =
    {[testenv]deps}
    Django>=1.5,<1.6
deps_dj14 =
    {[testenv]deps}
    Django>=1.4,<1.5
deps_py27 =
    mock
deps_py26 =
    {[testenv]deps_py27}
    unittest2
    importlib


setenv =
    DJANGO_SETTINGS_MODULE = tests.settings
    PYTHONPATH = {toxinidir}
changedir = tests
commands = python {toxworkdir}/{envname}/Scripts/django-admin.py test []


# Django 1.8

[testenv:py34dj18]
basepython = python3.4
deps = {[testenv]deps_dj18}

[testenv:py33dj18]
basepython = python3.3
deps = {[testenv]deps_dj18}

[testenv:py27dj18]
basepython = python2.7
deps =
    {[testenv]deps_py27}
    {[testenv]deps_dj18}


# Django 1.7

[testenv:py34dj17]
basepython = python3.4
deps = {[testenv]deps_dj17}

[testenv:py33dj17]
basepython = python3.3
deps = {[testenv]deps_dj17}

[testenv:py27dj17]
basepython = python2.7
deps =
    {[testenv]deps_py27}
    {[testenv]deps_dj17}


# Django 1.6

[testenv:py33dj16]
basepython = python3.3
deps = {[testenv]deps_dj16}

[testenv:py27dj16]
basepython = python2.7
deps =
    {[testenv]deps_py27}
    {[testenv]deps_dj16}

[testenv:py26dj16]
basepython = python2.6
deps =
    {[testenv]deps_py26}
    {[testenv]deps_dj16}


# Django 1.5

[testenv:py33dj15]
basepython = python3.3
deps = {[testenv]deps_dj15}

[testenv:py27dj15]
basepython = python2.7
deps =
    {[testenv]deps_py27}
    {[testenv]deps_dj15}

[testenv:py26dj15]
basepython = python2.6
deps =
    {[testenv]deps_py26}
    {[testenv]deps_dj15}


# Django 1.4

[testenv:py27dj14]
basepython = python2.7
deps =
    {[testenv]deps_py27}
    {[testenv]deps_dj14}

[testenv:py26dj14]
basepython = python2.6
deps =
    {[testenv]deps_py26}
    {[testenv]deps_dj14}
